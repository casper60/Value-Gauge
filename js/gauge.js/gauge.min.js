!function($){$.fn.valueGauge=function(a){function e(a){return a=String(parseInt(a,10)),1e4>a?a:(a/1e3).toFixed(a%1e3!==0)+"k"}function t(a){return{webkitTransform:a,MozTransform:a,msTransform:a,transform:a}}function n(a){var t=$("<div />",{"class":"valueGauge",id:a.id}),n=$("<div />",{"class":"needle"}),i=$("<div />",{"class":"values"}).text(e(a.value)),o=$("<div />",{"class":"gauge"}).append(i).append(n),u=$("<div />",{"class":"title"}).text(a.title);return i.attr("data-max",e(a.valueMax)),t.append(o).append(u)}function i(n,i){var s=o.to,d=i||a.valueMax,l=n/d,f="rotate("+Math.min(u*l-s,s)+"deg)";r.find(".needle").css(t(f)),r.find(".values").text(e(n)).attr("data-max",e(d)),r.one("webkitTransitionEnd transitionend",function(){r.toggleClass("isMaxed",n>d)})}var o={from:-135,to:135},u=o.to-o.from,r=n(a);r.on("updateValue",function(a,e){i(e)}),r.appendTo(this),setTimeout(function(){i(a.value,a.valueMax)},0)}}(jQuery);
